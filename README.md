# Задача : "Покрыть тестами разделы главной страницы сайта Effective Mobile с использованием Python"
#  # Название    проекта :  "Тестирование главной страницы сайта Effective Mobile"
Расположение сайта: effective-mobile.ru
Расположение проекта -  на  Githab.com, в разделе   PythonProject5
Адрес проекта  в сети   -  https://github.com/LBBB777/PythonProject5/tree/master
____________________________________
 ЧАСТЬ 1: Как запустить проект
___________________________________
1. Скачать и установить Docker   с официального сайта:
Docker Desktop: The #1 Containerization Tool for Developers | Docker
https://www.docker.com/products/docker-desktop/

2.  Открыть Docker и в терминале выполнить команду: 
selenium/standalone-chrome:142.0-chromedriver-142.0-20251202.
Команда позволит скачать Образ Docker, который представляет собой готовый контейнер, 
включающий в себя все необходимые компоненты для автоматического тестирования 
веб-приложений с помощью Selenium. Это полностью настроенное окружение для 
выполнения автоматизированных тестов:
Автоматическое управление браузером Chrome через Selenium API
Синхронизация версий Chrome и ChromeDriver, исключающая ошибки совместимости
Изолированная среда выполнения тестов, не зависящая от окружения хост-системы
Готовность к использованию сразу после запуска контейнера.

3. Скачать проект с GitChab 
    https://github.com/LBBB777/PythonProject5.git 
и установить его на локальной/удаленной машине.

4.  Для подготовки окружения клонировать проект, выполнив команды:
    git clone <ссылка_на_репозиторий>
    cd название_проекта

5. Проверить наличие необходимых файлов:
    программные файлы:  TestSetup.py, URL_MainPages_and_others.py, test_VPN.py, test_button_click_1.py, test_button_locators.py
    прочие файлы: dockerfile, requirements.txt,.gitignore

6. Собрать Docker-образ, выполнив код:
    docker build -t имя_образа .
Обозначения:
    -t - присвоение тега образу
    . - указывает на текущую директорию с Dockerfile

7. Альтернативный способ через docker-compose. Выполнить код:
    docker run --rm -v $(pwd):/app -w /app имя_образа pytest

8. Запустить контейнер с тестами:
docker run --rm -v $(pwd):/app -w /app имя_образа pytest
Обозачения:
    --rm - автоматическое удаление контейнера после завершения
    -v - монтирование текущей директории в контейнер
    -w - установка рабочей директории в контейнере

9.  Альтернативный запуск через docker-compose:
    docker-compose up --exit-code-from tests

10. Просмотр результатов:
10.1  Лог тестов : docker logs <id_контейнера>
10.2. Просмотр отчетов : 
    Проверить директорию с отчетами (если они генерируются)
    Отчеты могут сохраняться в смонтированной директории

11. Очистка окружения:
11.1. Остановка всех контейнеров: docker-compose down
11.2. Удаление неиспользуемых образов: docker system prune

  
12.  Отладка:
12.1. Для интерактивной отладки используйте: docker run -it --rm -v $(pwd):/app -w /app имя_образа bash
12.2. Внутри контейнера можно запускать тесты пошагово:
    pytest -k "test_name"  # запуск конкретного теста
    pytest -v             # подробный вывод
    pytest --pdb          # отладка через pdb
__________________________________________________
 ЧАСТЬ 2: Запустить автоматическое формирование тестов в Allure
_________________________________________________
Шаг 1. Отчет корректно формируется только при условии нахождения пользователя в папке tests. 
Поэтому  прежде чем формировать отчет перейти в папку  tests (из корневого каталога в терминале выполнить команду: cd tests)

Шаг 2. Тапнуть на файл с тестами и в терминале набрать команду allure serve allure-results 

Шаг3. Откроется вкладка в браузере Allure Report